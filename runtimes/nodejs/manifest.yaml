# Wskdeploy manifest for openwhisk-cloudant-trigger
# GitHub repo is located at https://github.com/IBM/openwhisk-message-hub-trigger

# This manifest file reads the following env. variables:
#   TBD

project:
  name: todos
  inputs:
    CLOUDANT_USERNAME:
      type: string
      description: The username from the IBM Cloudant service credentials
      required: true
      value: username
    CLOUDANT_PASSWORD:
      type: string
      description: The password from the IBM Cloudant service credentials
      required: true
      value: password
    API_BASE_URL:
      type: string
      description: The base URL where the REST API is exposed
      required: true
      value: https://api.url
packages:
  todo_package:
    version: 1.0
    license: Apache-2.0
    inputs:
      username:
          type: string
          description: CLOUDANT_USERNAME
          required: true
          value: $CLOUDANT_USERNAME
      password:
          type: string
          description: CLOUDANT_PASSWORD
          required: true
          value: $CLOUDANT_PASSWORD
      base_url:
          type: string
          description: The base URL where the REST API is exposed, including base path and path
          required: true
          value: ${API_BASE_URL}/v1/todo
    actions:
      get_todo:
        function: actions/get
        runtime: nodejs:8
        web-export: true
      delete_todo:
        function: actions/delete
        runtime: nodejs:8
        web-export: true
    apis:
      todos:
        /v1:
          /todo:
            get_todo:
              method: GET
              response: http
            delete_todo:
              method: DELETE
              response: http
